@use "@/design-tokens/layout" as layout;
@use "@/design-tokens/border" as border;

// Updated to use semantic tokens with content-paired colors
@mixin feedback-style($bg-color, $text-color, $link-color: $text-color, $icon-color: $text-color) {
  background-color: var($bg-color);
  color: var($text-color);

  .feedback__link {
    color: var($link-color);
  }

  .feedback__icon {
    color: var($icon-color);
  }

  .feedback-detailed__buttons__separator {
    opacity: 0.72;
  }

  .feedback__dismiss {
    opacity: 0.72;
  }
}

// Lighter variant styling (for dark text on light backgrounds)
@mixin feedback-light-styling {
  .feedback-detailed__buttons__separator {
    opacity: 0.40;
  }

  .feedback__dismiss {
    opacity: 0.40;
  }
}

.feedback {
  width: layout.$spacing-13 * 2;
  display: flex;
  flex-direction: row;
  align-items: center;
  border-radius: border.$border-radius-large;

  .feedback__icon, .feedback__dismiss {
    align-content: center;
    cursor: pointer;
  }

  &--small {
    gap: layout.$spacing-05;
    padding: layout.$spacing-02 layout.$spacing-03;

    .feedback__title {
      flex: 1;
    }
  }

  &--x-small {
    gap: layout.$spacing-03;
    padding: layout.$spacing-01 layout.$spacing-02;

    .feedback__icon, .feedback__dismiss {
      align-content: center;
      cursor: pointer;
    }

    .feedback__title {
      flex: 1;
    }
  }

  &--large {
    gap: layout.$spacing-05;
    padding: layout.$spacing-05 layout.$spacing-05;
    border-radius: border.$border-radius-large;
    align-items: baseline;

    .feedback-detailed__content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: layout.$spacing-02;
    }

    .feedback-detailed__text {
      display: flex;
      flex-direction: column;
      gap: layout.$spacing-02;
    }

    .feedback__title {
        font-size: var(--font-size-label);
    }

    .feedback__description {
        font-size: var(--font-size-sublabel);
    }

    .feedback-detailed__buttons {
      display: flex;
      flex-direction: row;
      gap: layout.$spacing-03;

      // Link buttons have default padding of 10px so we need to remove it
      margin-left: -10px;
      align-items: center;
    }
  }


  .feedback__description {
      font-size: var(--font-size-sublabel);
  }


}


// Filled variants use semantic color tokens with content pairs
.feedback--error.feedback--filled {
  @include feedback-style(--color-error, --color-error-content);
}

.feedback--success.feedback--filled {
  @include feedback-style(--color-success, --color-success-content);
}

.feedback--warning.feedback--filled {
  @include feedback-style(--color-warning, --color-warning-content);
}

.feedback--info.feedback--filled {
  @include feedback-style(--color-info, --color-info-content);
}

.feedback--feature.feedback--filled {
  @include feedback-style(--color-gray, --color-gray-content);
}

// Light variants use semantic light color tokens
.feedback--error.feedback--light {
  @include feedback-style(--color-error-light, --color-error-light-content, --color-error-light-content, --color-error-lighter-content);
  @include feedback-light-styling;
}

.feedback--success.feedback--light {
  @include feedback-style(--color-success-light, --color-success-light-content, --color-success-light-content, --color-success-lighter-content);
  @include feedback-light-styling;
}

.feedback--warning.feedback--light {
  @include feedback-style(--color-warning-light, --color-warning-light-content, --color-warning-light-content, --color-warning-lighter-content);
  @include feedback-light-styling;
}

.feedback--info.feedback--light {
  @include feedback-style(--color-info-light, --color-info-light-content, --color-info-light-content, --color-info-lighter-content);
  @include feedback-light-styling;
}

.feedback--feature.feedback--light {
  @include feedback-style(--color-gray-light, --color-gray-light-content, --color-gray-light-content, --color-gray-lighter-content);
  @include feedback-light-styling;
}

// Lighter variants use semantic lighter color tokens
.feedback--error.feedback--lighter{
  @include feedback-style(--color-error-lighter, --color-error-light-content, --color-error-light-content, --color-error-lighter-content);
  @include feedback-light-styling;
}

.feedback--success.feedback--lighter{
  @include feedback-style(--color-success-lighter, --color-success-light-content, --color-success-light-content, --color-success-lighter-content);
  @include feedback-light-styling;
}

.feedback--warning.feedback--lighter{
  @include feedback-style(--color-warning-lighter, --color-warning-light-content, --color-warning-light-content, --color-warning-lighter-content);
  @include feedback-light-styling;
}

.feedback--info.feedback--lighter{
  @include feedback-style(--color-info-lighter, --color-info-light-content, --color-info-light-content, --color-info-lighter-content);
  @include feedback-light-styling;
}

.feedback--feature.feedback--lighter{
  @include feedback-style(--color-gray-lighter, --color-gray-light-content, --color-gray-light-content, --color-gray-lighter-content);
  @include feedback-light-styling;
}

// Stroke variants use white background with colored icons
.feedback--error.feedback--stroke {
  @include feedback-style(--color-stroke-bg, --color-base-content, --color-base-content, --color-error-lighter-content);
  @include feedback-light-styling;
  border: 1px var(--color-stroke-border) solid;
}

.feedback--success.feedback--stroke {
  @include feedback-style(--color-stroke-bg, --color-base-content, --color-base-content, --color-success-lighter-content);
  @include feedback-light-styling;
  border: 1px var(--color-stroke-border) solid;
}

.feedback--warning.feedback--stroke {
  @include feedback-style(--color-stroke-bg, --color-base-content, --color-base-content, --color-warning-lighter-content);
  @include feedback-light-styling;
  border: 1px var(--color-stroke-border) solid;
}

.feedback--info.feedback--stroke {
  @include feedback-style(--color-stroke-bg, --color-base-content, --color-base-content, --color-info-lighter-content);
  @include feedback-light-styling;
  border: 1px var(--color-stroke-border) solid;
}

.feedback--feature.feedback--stroke {
  @include feedback-style(--color-stroke-bg, --color-base-content, --color-base-content, --color-base-content);
  @include feedback-light-styling;
  border: 1px var(--color-stroke-border) solid;
}
